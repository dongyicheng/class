<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>珠峰培训</title>
</head>
<body>
    <div id="div1">珠峰培训</div>
</body>
</html>
<script>
    /*
    * 闭包：它是一种保护机制，保护内部变量不受外界的影响；
    * 函数执行会形成一个作用域，用来保护内部变量，这个作用域就是一个闭包；
    *
    * 外界认为的闭包一般是指的不销毁的作用域，把这个作用域成为一个闭包；
    *
    *
    * 作用域销毁
    *
    * 一般情况下，一个函数执行形成的作用域都是即时销毁的；
    *
    * 当一个作用域中有内容被外界所占用，那么这个作用域就不会销毁；
    * 当函数执行，返回值时一个引用数据类型，并且这个应用数据类型被外界接受，那么这个作用域就不会被销毁
    *
    * 当一个作用域有内容临时被外界占用，那么当这个占用解除时，作用域再去销毁
    *
    * */

    function outer() {
        var n = 12;
        function inner() {
            console.log(n)
        }
        inner();
    }
    outer();
    /*
    * 暂时不销毁
    * */



    function outer() {
        var n = 12;
        function inner() {
            console.log(n)
        }
        return inner;
    }
    outer();
    /*
    * 销毁
    * */




    function outer() {
        var n = 12;
        function inner() {
            console.log(n)
        }
        return inner;
    }
    var f = outer();

    /*
    *
    * 不销毁
    *
    * */




    function f1() {
        return {}
    }
    var a = f1();






    /*
    * 闭包的形式
    * */
    //形式1
    var fn = (function () {
        return function () {
            console.log(1)
        }
    })();

    // 形式2
    var obj = (function () {
        var fn = function () {
            console.log(12);
        };
        return {
            f:fn
        }
    })();

    // 形式3
    var fn = function () {
        var a = 12;
        return function () {
            console.log(12);
        }
    }
</script>  