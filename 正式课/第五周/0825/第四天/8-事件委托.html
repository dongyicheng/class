<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>珠峰培训</title>
    <style>
        /*ul li:nth-child(2n){*/
            /*background: #ee2ad6;*/
        /*}*/
    </style>
</head>
<body>
    <div id="div1">珠峰培训</div>
    <!--<ul>wwwwww
        <span>wwwwww</span>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
    </ul>-->
    <ul id="oul">
        <li>
            <span>一级菜单1</span>
            <ul>
                <li>
                    <span>二级菜单21</span>
                    <ul>
                        <li>
                            <span>三级菜单31</span>
                        </li>
                        <li>
                            <span>三级菜单32</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <span>二级菜单22</span>
                    <ul>
                        <li>
                            <span>三级菜单312</span>
                        </li>
                        <li>
                            <span>三级菜单323</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <span>一级菜单2</span>
            <ul>
                <li>
                    <span>二级菜单21</span>
                </li>
                <li>
                    <span>二级菜单22</span>
                    <ul>
                        <li>
                            <span>三级菜单312</span>
                        </li>
                        <li>
                            <span>三级菜单323</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <span>一级菜单3</span>
            <ul>
                <li>
                    <span>二级菜单31</span>
                </li>
                <li>
                    <span>二级菜单22</span>
                    <ul>
                        <li>
                            <span>三级菜单312</span>
                        </li>
                        <li>
                            <span>三级菜单323</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</body>
</html>
<script>
    /*var oUl = document.getElementsByTagName('ul')[0];
    var oLis = document.getElementsByTagName('li');
    // [...oLis].forEach((item,index)=>{
    //     item.onclick = function () {
    //         console.log(item.innerHTML);
    //     }
    // });
    oUl.onclick = function (e) {
        e = e || window.event;
        var tar = e.target || e.srcElement;
        if(tar.nodeName.toLowerCase() === 'li'){
            console.log(tar.innerHTML);
        }
    }*/

    var oSpans = document.getElementsByTagName('span');
    var oul = document.getElementById('oul');
    [...oSpans].forEach((item)=>{
        var nextEle = item.nextElementSibling;
        if(nextEle && nextEle.nodeName.toLowerCase() === 'ul'){
            nextEle.style.display = 'none';
        }
    });

    oul.onclick = function (e) {
        e = e || window.event;
        var tar = e.target || e.srcElement;
        console.log(tar);
        //首先判断 点击的元素是不是 span
        if(tar.nodeName.toLowerCase() === 'span'){
            var nextEle = tar.nextElementSibling;
            if(nextEle && nextEle.nodeName.toLowerCase() ==='ul'){
                //判断 这个 ul 是展开状态 还是  关闭状态
                if(nextEle.style.display == 'none'){
                    nextEle.style.display = 'block';
                }else {
                    nextEle.style.display = 'none';
                    //现在 要让 nextEle下所有的ul都display none;
                    var ouls = nextEle.querySelectorAll('ul');
                    [...ouls].forEach((item)=>{
                        item.style.display = 'none';
                    })
                }
            }
        }
    }


</script>  